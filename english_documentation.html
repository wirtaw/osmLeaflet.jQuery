<!DOCTYPE html>
<html>
<head>
    <title>osmLeaflet.jQuery, a jQuery plugin for Open Street Map</title>
    <meta charset="UTF-8">
    <meta name="description" content="osmLeaflet.jQuery, a jQuery plugin for Open Street Map via Leaflet"/>
    <link rel="stylesheet" type="text/css" href="css/kickstart.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="style.css" media="all"/>
    <link href="http://leaflet.cloudmade.com/dist/leaflet.css" rel="stylesheet"/>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-18447506-1']);
        _gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <script type="text/javascript">
        /* <![CDATA[ */
        (function () {
            var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
            t.parentNode.insertBefore(s, t);
        })();
        /* ]]> */
    </script>
</head>
<body>
<a id="top-of-page"></a>
<a href="https://github.com/MathRobin/osmLeaflet.jQuery"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/abad93f42020b733148435e2cd92ce15c542d320/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67"
                                                              alt="Fork me on GitHub"></a>

<div id="wrap" class="clearfix">
<div id="map1" style="height: 216px; width: 960px;"></div>
<div class="col_12">
<h4>What is osmLeaflet.jQuery?</h4>

<p>It's a jQuery plugin which is designed to help you in using the <a href="http://leaflet.cloudmade.com/" target="_blank" alt="Leaflet - a modern, lightweight JavaScript library for interactive maps by CloudMade" title="Leaflet - a modern, lightweight JavaScript library for interactive maps by CloudMade">Leaflet</a> API to display maps
    based on <a href="http://www.openstreetmap.org/" target="_blank" alt="OpenStreetMap" title="OpenStreetMap">Open Street Map</a>.</p>
<h4>Skills</h4>

<div class="col_4">
    <ul class="checks">
        <li>Choose the zoom level at initialization</li>
        <li>Then, play with the wheel mouse or zoom buttons</li>
        <li>Put markers</li>
        <li>Put a popup</li>
        <li>Give it a rich HTML content</li>
        <li>Handle maps events</li>
    </ul>
</div>
<div class="col_5">
    <ul class="checks">
        <li>Multiples instances</li>
        <li>Manage maps easily</li>
        <li>BSD Licence, do what you want</li>
        <li>Without any constraints</li>
        <li>Simplified API in comparison to <a href="http://leaflet.cloudmade.com/" target="_blank" alt="Leaflet - a modern, lightweight JavaScript library for interactive maps by CloudMade" title="Leaflet - a modern, lightweight JavaScript library for interactive maps by CloudMade">Leaflet</a></li>
        <li>Based on Leaflet and <a href="http://www.openstreetmap.org/" target="_blank" alt="OpenStreetMap" title="OpenStreetMap">Open Street Map</a></li>
    </ul>
</div>
<div class="facebook-box">
    <iframe src="http://www.facebook.com/plugins/likebox.php?id=124128901045591&amp;width=220&amp;connections=10&amp;stream=false&amp;header=false&amp;height=300" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:220px; height:300px;" allowtransparency="true"></iframe>
</div>
<h4>Demonstration</h4>
<ul class="tabs">
    <li class="first current"><a href="#media-example">Example</a></li>
    <li class=""><a href="#media-code">Code with osmLeaflet.jQuery</a></li>
    <li class=""><a href="#media-fullcode">With only the Leaflet API</a></li>
</ul>
<div id="media-example" class="tab-content clearfix" style="display: block; ">
    <div id="mini_map" style="height: 140px; width: 800px;"></div>
</div>
<div id="media-code" class="tab-content clearfix" style="display: block; ">
		    <pre class="js prettyprint">&lt;div id="mini_map" style="height: 140px; width: 800px;"&gt;&lt;/div&gt;
// Just provide a JSON object and go for it! To create another instance: change the id sent to jQuery selector.
$("#mini_map").osmLeaflet({
    zoom : 9,
    latitude : 48.833,
    longitude : 2.333,
    popup : {
	latitude : 48.859,
	longitude : 2.333,
	text : 'Hello !'
    }
});
		    </pre>
</div>
<div id="media-fullcode" class="tab-content clearfix" style="display: block; ">
		    <pre class="js prettyprint">&lt;div id="mini_map" style="height: 140px; width: 800px;"&gt;&lt;/div&gt;
// No JSON object, more verbose but not really readable, no? To create another instance: change the map var name and the selector.
var map = new L.Map("mini_map"),
    cloudmade = new L.TileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {
        maxZoom: 18,
	attribution: 'Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade'
    }),
    popup = new L.Popup();
map.setView(new L.LatLng(48.833, 2.333, 9).addLayer(cloudmade);

popup.setLatLng(new L.LatLng(48.859, 2.333));
popup.setContent('Hello !');
map.openPopup(popup);
		    </pre>
</div>
<h4>Follow</h4>
<a href="https://github.com/MathRobin/osmLeaflet.jQuery" alt="Github" title="Github"><span class="icon social large blue" data-icon="i" title="Github" style="display: inline-block; "></span></a>
<a href="http://www.facebook.com/PluginOsmLeafletjQuery/" alt="Facebook" title="Facebook"><span class="icon social x-large blue" data-icon="F"></span></a>
<a class="button orange small" href="http://www.mathieurobin.com/tag/osmleaflet-jquery/feed/" alt="RSS feed" title="RSS feed"><span class="icon social" data-icon="r" style="display: inline-block; "></span> RSS</a>
<a class="FlattrButton" style="display:none;" href="http://www.mathieurobin.com/osmLeaflet"></a>
<noscript><a href="http://flattr.com/thing/625244/osmLeaflet-jQuery-plugin-jQuery-pour-Open-Street-Map" target="_blank">
    <img src="http://api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"/></a></noscript>
<h4>Documentation</h4>
<ul>
    <li><a href="#methods_init">init (options)</a></li>
    <li><a href="#methods_addmarker">addMarker (options)</a></li>
    <li><a href="#methods_addpopup">addPopup (options)</a></li>
    <li><a href="#methods_onclick">onClick (callback)</a></li>
</ul>
<a name="methods_init"></a><h5><i>init (options)</i></h5>

<p>Create the map. Called by default if no parameters are passed.<br/><br/>Takes the following options:</p>
<table class="striped" cellspacing="0" cellpadding="0">
    <thead>
    <tr class="alt first last">
        <th>Name</th>
        <th>Type</th>
        <th>Optionnal</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr class="first">
        <th>latitude</th>
        <td>Number</td>
        <td>No</td>
        <td>Map's latitude.</td>
    </tr>
    <tr class="alt">
        <th>longitude</th>
        <td>Number</td>
        <td>No</td>
        <td>Map's longitude.</td>
    </tr>
    <tr>
        <th>markers</th>
        <td>Array</td>
        <td>Yes</td>
        <td>Contains a list of markers with their description.</td>
    </tr>
    <tr class="alt">
        <th>onClick</th>
        <td>Function</td>
        <td>Yes</td>
        <td>Callback function which will be called on each click on the map. This function has the event object as parameter.</td>
    </tr>
    <tr>
        <th>popup</th>
        <td>Object</td>
        <td>Yes</td>
        <td>Popup's description</td>
    </tr>
    <tr class="alt last">
        <th>zoom</th>
        <td>Number</td>
        <td>Yes</td>
        <td>Map's zoom level. Between 1 and 18.</td>
    </tr>
    </tbody>
</table>
<br/>
<a name="methods_addmarker"></a><h5><i>addMarker (options)</i></h5>

<p>Allows to put one or more marker(s) on the map.<br/><br/>Takes the following options (or an array of these):</p>
<table class="striped" cellspacing="0" cellpadding="0">
    <thead>
    <tr class="alt first last">
        <th>Name</th>
        <th>Type</th>
        <th>Optionnal</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr class="first">
        <th>click</th>
        <td>Object</td>
        <td>No</td>
        <td>Description of a popup which will be opened when clicking on the marker.</td>
    </tr>
    <tr class="alt">
        <th>latitude</th>
        <td>Number</td>
        <td>Yes</td>
        <td>Marker's latitude.</td>
    </tr>
    <tr class="last">
        <th>longitude</th>
        <td>Number</td>
        <td>Yes</td>
        <td>Marker's longitude.</td>
    </tr>
    </tbody>
</table>
<br/>
<a name="methods_addpopup"></a><h5><i>addPopup (options)</i></h5>

<p>Allows to put a popup on the map. Leaflet API doesn't allow to show more than one popup at a time on a map.<br/><br/>Takes the following options (or an array of these):</p>
<table class="striped" cellspacing="0" cellpadding="0">
    <thead>
    <tr class="alt first last">
        <th>Name</th>
        <th>Type</th>
        <th>Optionnal</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr class="first">
        <th>content</th>
        <td>String</td>
        <td>No</td>
        <td>Describes, in HTML, the popup's content</td>
    </tr>
    <tr class="alt">
        <th>latitude</th>
        <td>Number</td>
        <td>No</td>
        <td>Popup's latitude.</td>
    </tr>
    <tr>
        <th>longitude</th>
        <td>Number</td>
        <td>No</td>
        <td>Popup's longitude.</td>
    </tr>
    <tr class="alt">
        <th>autopan</th>
        <td>Boolean</td>
        <td>Yes</td>
        <td>The popup uses the pan effect when it appears on the map. Default value: <i>true</i>.</td>
    </tr>
    </tbody>
</table>
<br/>
<a name="methods_onclick"></a><h5><i>onClick (callback)</i></h5>

<p>Call the callback function given as a parameter of the click event on any area of the map. Can take an <a href="http://www.jquery.com/Deferred" target="_blank" alt="jQuery - Deferred" title="jQuery - Deferred">Deferred</a> object instead of the function.<br/><br/>Takes the following parameter:</p>
<table class="striped" cellspacing="0" cellpadding="0">
    <thead>
    <tr class="alt first last">
        <th>Name</th>
        <th>Type</th>
        <th>Optionnal</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr class="first">
        <th>callback <a href="#tips_onclick" alt="" title="">*</a></th>
        <td>Function</td>
        <td>No</td>
        <td>Callback function.</td>
    </tr>
    <tr class="alt last">
        <th>callback <a href="#tips_onclick" alt="" title="">*</a></th>
        <td>Deferred</td>
        <td>No</td>
        <td>Deferred object which will be resolved at the click event.</td>
    </tr>
    </tbody>
</table>
<a name="tips_onclick"></a>
<small>* Function or object, not both</small>
</div>
<div id="map2" style="height: 216px; width: 960px;"></div>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script type="text/javascript" src="js/prettify.js"></script>
<script type="text/javascript" src="js/kickstart.js"></script>
<script src="http://leaflet.cloudmade.com/dist/leaflet.js"></script>
<script type="text/javascript" src="osmLeaflet.jquery.js"></script>
<script>
    $(document).ready(function () {
        var $map1 = $("#map1"),
                $mini_map = $("#mini_map"),
                $map2 = $("#map2");

        // Header map
        $map1.osmLeaflet({
            zoom      : 10,
            latitude  : 51.50,
            longitude : -0.09
        });
        $map1.osmLeaflet('addMarker', {
            latitude  : 51.50,
            longitude : -0.09
        });
        $map1.osmLeaflet('addPopup', {
            latitude  : 51.51,
            longitude : -0.13,
            content   : '<b>Hey !</b> Welcome on <a href="http://www.mathieurobin.com/osmLeaflet/" target="_blank">osmLeaflet.jQuery</a> website'
        });
        $map1.osmLeaflet('addMarker', [
            {
                latitude  : 49.50,
                longitude : -0.09
            },
            {
                latitude  : 49.40,
                longitude : -0.09
            },
            {
                latitude  : 49.30,
                longitude : -0.09
            }
        ]);

        // Demo map
        $mini_map.osmLeaflet({
            zoom      : 9,
            latitude  : 48.833,
            longitude : 2.333
        });
        $mini_map.osmLeaflet('addPopup', {
            latitude  : 48.859,
            longitude : 2.333,
            content   : 'Hello !'
        });

        // Footer map
        $map2.osmLeaflet({
            zoom      : 2,
            latitude  : 21.50,
            longitude : 22.5
        });
        $map2.osmLeaflet('addPopup', {
            latitude  : 21.51,
            longitude : 22.54,
            content   : 'Have a nice day !'
        });
    });
</script>
</body>
</html>